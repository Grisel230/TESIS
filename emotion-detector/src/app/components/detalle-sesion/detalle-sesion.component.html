<!-- Barra de navegaci√≥n simple (puedes copiarla de otros componentes) -->
<nav class="navbar">
  <div class="navbar-brand">Detector de Emociones</div>
  <ul class="navbar-nav">
    <li class="nav-item">
      <a routerLink="/registro-pacientes" class="nav-link">Registro Pacientes</a>
    </li>
    <li class="nav-item">
      <a routerLink="/historial-sesiones" class="nav-link">Historial de Sesiones</a>
    </li>
    <li class="nav-item">
      <!-- Asumiendo que tienes un m√©todo logout() en el componente -->
      <button (click)="logout()" class="nav-link logout-button">Cerrar Sesi√≥n</button>
    </li>
  </ul>
</nav>

<div class="container detalle-sesion-container">

  <div class="report-container"> <!-- Contenedor para el reporte PDF -->

    <h2>Detalles de la Sesi√≥n</h2>

    <div class="session-info" *ngIf="sessionDetails">
      <span>üóìÔ∏è {{ sessionDetails.fecha }}</span>
      <span>‚è∞ {{ sessionDetails.hora }}</span>
      <span>‚è±Ô∏è {{ sessionDetails.duracion }}</span>
    </div>

    <div class="row" *ngIf="sessionDetails">
      <!-- Informaci√≥n del Paciente -->
      <div class="col">
        <div class="card">
          <h3><i class="fas fa-user"></i> Informaci√≥n del Paciente</h3>
          <p><strong>Nombre:</strong> {{ sessionDetails.paciente }}</p>
          <p><strong>Edad:</strong> {{ sessionDetails.edad }} a√±os</p>
          <p><strong>Diagn√≥stico:</strong> {{ sessionDetails.diagnostico }}</p>
          <!-- Puedes a√±adir m√°s detalles del paciente aqu√≠ si los tienes -->
        </div>
      </div>

      <!-- Resumen de Emociones (Ejemplo simple) -->
      <div class="col">
        <div class="card">
          <h3><i class="fas fa-chart-pie"></i> Resumen de Emociones</h3>
          <p><strong>Emoci√≥n Predominante:</strong> {{ getEmotionEmoji(sessionDetails.emocionPredominante) }} {{ sessionDetails.emocionPredominante | titlecase }} ({{ (sessionDetails.confianza * 100).toFixed(1) }}%)</p>
          
          <!-- Aqu√≠ ir√≠a el espacio para el gr√°fico -->
          <div class="chart-container">
            <canvas #emotionChartCanvas></canvas> <!-- Referencia al canvas para el gr√°fico -->
          </div>

          <!-- Puedes a√±adir barras de confianza promedio si tienes datos -->
        </div>
      </div>
    </div>

    <!-- Notas de la Sesi√≥n -->
    <div class="card" *ngIf="sessionDetails">
      <h3><i class="fas fa-clipboard"></i> Notas de la Sesi√≥n</h3>
      <p>{{ sessionDetails.notasSesion || 'No hay notas adicionales para esta sesi√≥n.' }}</p>
      <!-- Puedes a√±adir un campo para editar notas si es necesario -->
    </div>

    <!-- Gr√°fico de Evoluci√≥n Temporal (Este espacio lo llenar√° Chart.js) -->
    <!-- Ya incluido dentro del Resumen de Emociones -->

  </div> <!-- Fin Contenedor para el reporte PDF -->

  <!-- Botones de Acci√≥n del Reporte -->
  <div class="report-actions">
    <button (click)="downloadReport()" class="btn btn-primary">Descargar Reporte Completo</button>
    <button (click)="printReport()" class="btn btn-secondary">Imprimir</button>
  </div>

</div> 
 